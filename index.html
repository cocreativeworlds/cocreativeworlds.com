<!DOCTYPE html>
<html>
  <head>
    <title>Co Creative Worlds</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <h1>Co Creative Worlds</h1>
    <p>Coming soon&hellip;</p>
    <menu>
      <h2>Posts</h2>
      <ul id="posts"></ul>
    </menu>

    <script>
      function renderMenu() {
        if (typeof document !== "object") return;
        var $posts = document.getElementById("posts");
        if (!$posts) return;
        window.POSTS = window.POSTS || [];
        for (var i = 0, html = ""; i < window.POSTS.length; i++) {
          var post = window.POSTS[i];
          var year = post.slice(0, 4);
          var url = "./" + year + "/" + post + ".html";
          var titleLowercase = "-" + post.split("--").pop() + " ";
          var title = titleLowercase
            .replace(/-([a-z])/g, function (orig, match) {
              return " " + match.toUpperCase();
            })
            // https://www.quickanddirtytips.com/education/grammar/capitalizing-titles
            .replace(
              /( (A|An|And|At|But|By|For|In|Nor|Of|On|Or|Out|So|The|To|Up|Yet) )/g,
              function (orig, match) {
                return match.toLowerCase();
              }
            )
            .slice(1, -1); // trim leading an trailing spaces
          html += '<li><a href="' + url + '">' + title + "</a></li>";
        }
        $posts.innerHTML = html;
      }
      var scriptsToLoad = 1;
      window.onScriptLoad = function () {
        if (--scriptsToLoad === 0) renderMenu();
      };
    </script>
    <script src="2020/index.js"></script>
  </body>
</html>
